var Module=Module||{};jQuery.noConflict(),Module.jsonData=function(){var module={vendor:{name:"ParkinGo",departureAirport:"Bergamo Orio al Serio",map:"http://lorempixel.com/370/390",features:["Parcheggio ParkinGo della tipologia selezionata","Navetta da/per aeroporto 24h","Vigilanza e custodia del mezzo 24h","Ripristino gratuito del calo di batteria della tua auto"]},parkings:[{id:123,indoor:!1,insurance:!1,price:"13.56 EUR"},{id:456,indoor:!1,insurance:!0,price:"18.99 EUR"},{id:243,indoor:!0,insurance:!0,price:"23.56 EUR"},{id:700,indoor:!0,insurance:!1,price:"16.49 EUR"}],dictionary:{bookYourParking:"Prenota il tuo parcheggio a",featuresTitle:"Sono inclusi i seguenti servizi:",indoorSpace:"Posto auto coperto",outdoorSpace:"Posto auto scoperto",insuranceIncluded:"Assicurazione inclusa",insuranceExcluded:"Assicurazione esclusa"}};return module}();var Module=Module||{};Module.common=function($){var module={},templatePath="/templates/",widget=".widget-container";widgetContainerTemplate=templatePath+"widgetContainerTemplate.html",parkingListTemplate=templatePath+"parkingListTemplate.html",jsonUrl=$(".widget-container").data("jsonUrl");var renderWidgetContainerTemplate=function(json){$.get(widgetContainerTemplate,function(template){var rendered=Mustache.render(template,json);$(widget).html(rendered),Module.events.expandCollapse()})},renderparkingListTemplate=function(json){$.get(parkingListTemplate,function(template){var rendered=Mustache.render(template,json);$(".parking-list",widget).html(rendered),Module.events.getPark()})},render=function(json){renderWidgetContainerTemplate(json),renderparkingListTemplate(json)};return module.render=function(){var json=Module.jsonData;jsonUrl&&$.getJSON(jsonUrl,function(data){json=data}),render(json)}(),module}(jQuery);var Module=Module||{};Module.events=function($){var module={},widget=".widget-container";return module.expandCollapse=function(){var $button=$(".show-more",widget);$button.on("click",function(){var $parkElement=$(this).parent();$parkElement.toggleClass("expanded"),$parkElement.find(".expanded-content").slideToggle("slow")})},module.getPark=function(){var id,$parkElement=$(".parking-list .single-parking-element",widget);$parkElement.on("click",function(){id=$(this).data("parkId"),console.log("Hai selezionato il parcheggio con id: "+id)})},module}(jQuery);